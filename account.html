<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="account.js"></script>
    <link rel="stylesheet" type="text/css" href="account.css">
</head>

<body>

    <div id="sideMenu">
        <div id="welcomeUser" style="margin-bottom: 20px;"></div>
        <button id="logoutBtn">Logout</button>
        <button id="createTaskBtn">Create Task</button>
        <div id="taskForm" style="display:none;">
            <input type="text" id="taskName" placeholder="Task Name">
            <textarea id="taskDescription" placeholder="Task Description"></textarea>
            <input type="text" id="taskDeadline" placeholder="Deadline (yyyy-mm-dd)">
            <button id="saveTaskBtn">Save Task</button>
            <button id="cancelTaskBtn">Cancel</button>
        </div>
        <div id="reminderForm" style="display:none;">
            <input type="text" id="reminderDate" placeholder="Reminder Date (yyyy-mm-dd)">
            <input type="time" id="reminderTime" placeholder="Reminder Time (HH:mm)">
            <button id="saveReminderBtn">Save Reminder</button>
        </div>
    </div>

    <div id="userFeedback" style="display:none;"></div> <!-- User feedback messages -->

    <!-- Task List Container -->

    
        <div class="task"> </div>
        <div id="taskListForm">
            <input type="text" id="taskName" placeholder="Task Name">
            <textarea id="taskDescription" placeholder="Task Description"></textarea>
            <input type="text" id="taskDeadline" placeholder="Deadline (yyyy-mm-dd)">
            <button id="editTaskBtn">Edit</button>
            <button id="deleteTaskBtn">Deleter</button>
            <button id="setreminderBtn">Set Reminder</button>
            <button id="completeTaskBtn">Mark as Complete</button>
            <button id="completedBtn">Completed</button>

        </div>



        <script>
            $(function () {
                $("#taskDeadline").datepicker({ dateFormat: 'yy-mm-dd' });

                $('#createTaskBtn').click(function () {
                    // Clear the form fields and any existing feedback
                    $('#taskName').val('');
                    $('#taskDescription').val('');
                    $('#taskDeadline').val('');
                    $('#userFeedback').hide();

                    // Reset any editing state
                    editingTaskId = null;

                    // Show the form and focus on the first input field
                    $('#taskForm').show();
                    $('#taskName').focus();
                });

                $('#cancelTaskBtn').click(function () {
                    // Hide the form and clear any feedback
                    $('#taskForm').hide();
                    $('#userFeedback').hide();

                    // Clear form fields
                    $('#taskName').val('');
                    $('#taskDescription').val('');
                    $('#taskDeadline').val('');
                    editingTaskId = null; // Reset editing state
                });
                $("#showCompletedTasksBtn").click(function () {
                    fetchCompletedTasks();
                    $("#completedTaskList").toggle(); // Toggle the display of the completed tasks list
                });
            });
        </script>
        <script src="account.js"></script>

</body>

</html>